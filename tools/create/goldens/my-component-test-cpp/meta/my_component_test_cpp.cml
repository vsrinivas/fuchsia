// Copyright 2020 The Fuchsia Authors. All rights reserved.
// Use of this source code is governed by a BSD-style license that can be
// found in the LICENSE file.

// This file was generated by the `fx create` command. The template
// is located at `//tools/create/templates/component-test/meta/{{snake_case PROJECT_NAME}}.cml.tmpl-cpp`.
// If you find something broken, we are eager to review fixes.

// my-component-test-cpp test component manifest.
// For information on component testing and the Test Runner Framework,
// see https://fuchsia.dev/fuchsia-src/concepts/testing/v2/test_runner_framework.
{
    include: [
        "syslog/client.shard.cml",
        "//src/sys/test_runners/gtest/default.shard.cml",
    ],

    // Information about the program to run.
    program: {
        // The binary to run for this component.
        binary: "test/my-component-test-cpp",
    },

    // Child components orchestrated by the integration test.
    children: [
        // List any dependent components here, ex:
        // {
        //   name: "hello-world",
        //   url: "fuchsia-pkg://fuchsia.com/example#meta/hello-world.cm",
        // }
    ],

    // Capabilities used by this component.
    use: [
        // Use the ArchiveAccessor to read inspect and logs from
        // all components in your test.
        { protocol: "fuchsia.diagnostics.ArchiveAccessor" },
        // Use the Realm protocol to bind to child components
        {
            protocol: "fuchsia.sys2.Realm",
            from: "framework",
        },
    ],
}
