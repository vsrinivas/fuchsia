// WARNING: This file is machine generated by fidlgen.

#include <union.test.fidl.json.overnet_embedded.h>

#include "src/connectivity/overnet/lib/embedded/implementation.h"
namespace test {
namespace name {
namespace embedded {

Union::Union() : value_() {}

Union::~Union() {
}

Union::Union(Union&& other) : value_(std::move(other.value_)) {
}

Union& Union::operator=(Union&& other) {
  if (this != &other) {
    value_ = std::move(other.value_);
  }
  return *this;
}

void Union::Encode(::overnet::internal::Encoder* _encoder, size_t _offset) {
  fidl_union_tag_t _tag = static_cast<fidl_union_tag_t>(Which());
  ::fidl::Encode(_encoder, &_tag, _offset);
  switch (_tag) {
   case 0:
    ::fidl::Encode(_encoder, &Primitive(), _offset + 8);
    break;
   case 1:
    ::fidl::Encode(_encoder, &StringNeedsConstructor(), _offset + 8);
    break;
   case 2:
    ::fidl::Encode(_encoder, &VectorStringAlsoNeedsConstructor(), _offset + 8);
    break;
   default:
    break;
  }
}

void Union::Decode(::overnet::internal::Decoder* _decoder, Union* _value, size_t _offset) {
  fidl_union_tag_t _tag;
  ::fidl::Decode(_decoder, &_tag, _offset);
  switch (_tag) {
   case 0:
    {
      int32_t _member{};
      ::fidl::Decode(_decoder, &_member, _offset + 8);
      _value->set_Primitive(std::move(_member));
      break;
    }
   case 1:
    {
      ::std::string _member{};
      ::fidl::Decode(_decoder, &_member, _offset + 8);
      _value->set_StringNeedsConstructor(std::move(_member));
      break;
    }
   case 2:
    {
      ::std::vector<::std::string> _member{};
      ::fidl::Decode(_decoder, &_member, _offset + 8);
      _value->set_VectorStringAlsoNeedsConstructor(std::move(_member));
      break;
    }
   default:
    _value->value_.emplace<0>();
  }
}

zx_status_t Union::Clone(Union* _result) const {
  zx_status_t _status = ZX_OK;
  switch (Which()) {
    case Tag::kPrimitive:
      {
        int32_t _member{};
        _status = ::fidl::Clone(Primitive(), &_member);
        if (_status == ZX_OK) {
          _result->set_Primitive(std::move(_member));
        }
      }
      break;
    case Tag::kStringNeedsConstructor:
      {
        ::std::string _member{};
        _status = ::fidl::Clone(StringNeedsConstructor(), &_member);
        if (_status == ZX_OK) {
          _result->set_StringNeedsConstructor(std::move(_member));
        }
      }
      break;
    case Tag::kVectorStringAlsoNeedsConstructor:
      {
        ::std::vector<::std::string> _member{};
        _status = ::fidl::Clone(VectorStringAlsoNeedsConstructor(), &_member);
        if (_status == ZX_OK) {
          _result->set_VectorStringAlsoNeedsConstructor(std::move(_member));
        }
      }
      break;
    case Tag::Invalid:
      _result->value_.emplace<0>();
      break;
  }
  return _status;
}

#ifdef FIDL_OPERATOR_EQUALS
bool operator==(const Union& _lhs, const Union& _rhs) {
  if (_lhs.Which() != _rhs.Which()) {
    return false;
  }
  switch (_lhs.Which()) {
    case Union::Tag::kPrimitive:
      return ::fidl::Equals(_lhs.Primitive(), _rhs.Primitive());
    case Union::Tag::kStringNeedsConstructor:
      return ::fidl::Equals(_lhs.StringNeedsConstructor(), _rhs.StringNeedsConstructor());
    case Union::Tag::kVectorStringAlsoNeedsConstructor:
      return ::fidl::Equals(_lhs.VectorStringAlsoNeedsConstructor(), _rhs.VectorStringAlsoNeedsConstructor());
    case Union::Tag::Invalid:
      return true;
    default:
      return false;
  }
}
#endif

void Union::set_Primitive(int32_t value) {
  value_.emplace<static_cast<size_t>(Tag::kPrimitive) + 1>(std::move(value));
}

void Union::set_StringNeedsConstructor(::std::string value) {
  value_.emplace<static_cast<size_t>(Tag::kStringNeedsConstructor) + 1>(std::move(value));
}

void Union::set_VectorStringAlsoNeedsConstructor(::std::vector<::std::string> value) {
  value_.emplace<static_cast<size_t>(Tag::kVectorStringAlsoNeedsConstructor) + 1>(std::move(value));
}

}  // namespace embedded
}  // namespace name
}  // namespace test
