# Copyright 2019 The Fuchsia Authors. All rights reserved.
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

# Proxy GN targets used to prepare for the migration of the Fuchsia tree
# to a newer upstream Vulkan repositories.
#
# See https://fuchsia.atlassian.net/browse/MA-652 for details.

import("//build/sdk/sdk_documentation.gni")

sdk_documentation("vulkan_license") {
  name = "vulkan_license"

  category = "public"

  files = [
    {
      source = "//third_party/vulkan_loader_and_validation_layers/COPYRIGHT.txt"
      dest = "COPYRIGHT.vulkan"
    },
    {
      source = "//third_party/vulkan_loader_and_validation_layers/LICENSE.txt"
      dest = "LICENSE.vulkan"
    },
  ]
}

# Copying the generated file necessary because upstream Vulkan-Loader target name is different
# but SDK can't handle that.
copy("libvulkan_sdk") {
  sources = [
    "$root_gen_dir/third_party/vulkan_loader_and_validation_layers/loader/loader_sdk.sdk",
  ]
  outputs = [
    "$target_gen_dir/libvulkan_sdk.sdk",
  ]
  public_deps = [
    "//third_party/vulkan_loader_and_validation_layers/loader:loader_sdk",
  ]
}

group("libvulkan") {
  public_deps = [
    "//third_party/vulkan_loader_and_validation_layers:vulkan",
    "//third_party/vulkan_loader_and_validation_layers/loader",
  ]
}

group("vulkaninfo") {
  public_deps = [
    "//third_party/vulkan_loader_and_validation_layers/demos:vulkaninfo_bin",
  ]
}

group("tests") {
  testonly = true
  public_deps = [
    "//third_party/vulkan_loader_and_validation_layers/layers:vulkan_loader_and_layers_tests",
  ]
}
